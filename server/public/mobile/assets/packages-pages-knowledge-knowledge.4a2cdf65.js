import{l as a,D as e,y as s,N as t,aY as o,av as l,aZ as r,o as i,p as n,b as m,w as d,F as u,q as p,c,f as _,j as g,r as f,a as y,e as w,t as x,k as v}from"./index.134bed81.js";import{_ as b}from"./u-icon.3f533f9b.js";import{_ as k}from"./u-loadmore.8629bce9.js";import{_ as j}from"./u-loading.e72bd4cb.js";import{g as z}from"./knowledge.96538bf2.js";import{_ as h}from"./plugin-vue_export-helper.21dcd24c.js";var F=h(a({__name:"knowledge",setup(a){const h=e(0),F=s({lists:[],page_no:1,page_size:15,more:"loadmore"}),$=async()=>{var a;F.more="loading";let e=await z({cid:h.value,page_no:F.page_no,page_size:F.page_size});F.lists=null==(a=F.lists)?void 0:a.concat(e.lists),e.lists<F.page_size?F.more="nomore":F.more="loadmore"};return t((async a=>{h.value=a.id,await $()})),o((async()=>{await(async()=>{F.page_no=1,F.more="loadmore",F.lists=[],await $()})(),l()})),r((async()=>{await(async()=>{"nomore"!=F.more&&(F.page_no+=1,await $())})()})),(a,e)=>{const s=g,t=f(y("u-icon"),b),o=v,l=f(y("u-loadmore"),k),r=f(y("u-empty"),j);return i(),n(u,null,[m(s,null,{default:d((()=>[(i(!0),n(u,null,p(F.lists,((a,e)=>(i(),c(o,{url:`/packages/pages/knowledge_detail/knowledge_detail?id=${a.id}`,class:"px-[20rpx] py-[20rpx] bg-white flex items-center border-bottom",key:e},{default:d((()=>[m(s,{class:"flex-1"},{default:d((()=>[m(s,{class:"truncate text-lg"},{default:d((()=>[w(x(a.title),1)])),_:2},1024),m(s,{class:"text-sm text-muted mt-1"},{default:d((()=>{return[w(x((e=a.create_time,uni.$u.timeFormat(e,"yyyy-mm-dd"))),1)];var e})),_:2},1024)])),_:2},1024),m(t,{size:"26rpx",name:"arrow-right"})])),_:2},1032,["url"])))),128))])),_:1}),F.lists.length>F.page_size?(i(),c(l,{key:0,status:F.more},null,8,["status"])):_("v-if",!0),F.lists.length<=0?(i(),c(r,{key:1,mode:"list"})):_("v-if",!0)],64)}}}),[["__scopeId","data-v-30f5fda6"]]);export{F as default};
