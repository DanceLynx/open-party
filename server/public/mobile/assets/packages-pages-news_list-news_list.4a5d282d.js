import{l as a,D as s,y as e,N as o,aY as i,av as t,aZ as r,o as l,p as n,b as m,w as d,F as p,q as u,c,f as _,r as g,a as f,j as w}from"./index.134bed81.js";import{_ as v}from"./news-card.571307f6.js";import{_ as y}from"./u-loadmore.8629bce9.js";import{_ as j}from"./u-loading.e72bd4cb.js";import{e as b}from"./news.4c15169f.js";import{_ as z}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-image.d9036226.js";import"./u-icon.3f533f9b.js";import"./icon_visit.9ad00ab7.js";var h=z(a({__name:"news_list",setup(a){const z=s(0),h=e({lists:[],page_no:1,page_size:15,more:"loadmore"}),k=async()=>{var a;h.more="loading";let s=await b({cid:z.value,page_no:h.page_no,page_size:h.page_size});h.lists=null==(a=h.lists)?void 0:a.concat(s.lists),s.lists<h.page_size?h.more="nomore":h.more="loadmore"};return o((async a=>{z.value=a.id,await k()})),i((async()=>{await(async()=>{h.page_no=1,h.more="loadmore",h.lists=[],await k()})(),t()})),r((async()=>{await(async()=>{"nomore"!=h.more&&(h.page_no+=1,await k())})()})),(a,s)=>{const e=g(f("news-card"),v),o=w,i=g(f("u-loadmore"),y),t=g(f("u-empty"),j);return l(),n(p,null,[m(o,null,{default:d((()=>[(l(!0),n(p,null,u(h.lists,((a,s)=>(l(),c(e,{key:s,"news-id":a.id,item:a},null,8,["news-id","item"])))),128))])),_:1}),h.lists.length>h.page_size?(l(),c(i,{key:0,status:h.more},null,8,["status"])):_("v-if",!0),h.lists.length<=0?(l(),c(t,{key:1,mode:"list"})):_("v-if",!0)],64)}}}),[["__scopeId","data-v-528141ae"]]);export{h as default};
