import{g as t,u as e,n as a,r as l,a as n,o as s,c as i,w as r,b as o,d as c,e as u,t as d,f,h as p,i as y,j as b,k as m,l as h,m as g,p as x,q as v,s as k,F as _,S as w,v as S,x as j,y as B}from"./index.134bed81.js";import{_ as I}from"./u-icon.3f533f9b.js";import{_ as z}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as C}from"./u-search.513f4dfa.js";import{_ as O}from"./u-image.d9036226.js";import{n as N}from"./util.f34da83a.js";import{_ as F}from"./news-card.571307f6.js";import{_ as H}from"./tabbar.69b45290.js";import{g as W}from"./shop.cb1a1b42.js";import"./icon_visit.9ad00ab7.js";import"./u-badge.d315fb19.js";let T=t(),$={};var U=z({name:"u-navbar",props:{height:{type:[String,Number],default:""},backIconColor:{type:String,default:"#606266"},backIconName:{type:String,default:"nav-back"},backIconSize:{type:[String,Number],default:"44"},backText:{type:String,default:""},backTextStyle:{type:Object,default:()=>({color:"#606266"})},title:{type:String,default:""},titleWidth:{type:[String,Number],default:"250"},titleColor:{type:String,default:"#606266"},titleBold:{type:Boolean,default:!1},titleSize:{type:[String,Number],default:32},isBack:{type:[Boolean,String],default:!0},background:{type:Object,default:()=>({background:"#ffffff"})},isFixed:{type:Boolean,default:!0},immersive:{type:Boolean,default:!1},borderBottom:{type:Boolean,default:!0},zIndex:{type:[String,Number],default:""},customBack:{type:Function,default:null}},data:()=>({menuButtonInfo:$,statusBarHeight:T.statusBarHeight}),computed:{navbarInnerStyle(){let t={};return t.height=this.navbarHeight+"px",t},navbarStyle(){let t={};return t.zIndex=this.zIndex?this.zIndex:this.$u.zIndex.navbar,Object.assign(t,this.background),t},titleStyle(){let t={};return t.left=(T.windowWidth-e(this.titleWidth))/2+"px",t.right=(T.windowWidth-e(this.titleWidth))/2+"px",t.width=e(this.titleWidth)+"px",t},navbarHeight(){return this.height?this.height:44}},created(){},methods:{goBack(){"function"==typeof this.customBack?this.customBack.bind(this.$u.$parent.call(this))():a()}}},[["render",function(t,e,a,m,h,g){const x=b,v=l(n("u-icon"),I);return s(),i(x,{class:""},{default:r((()=>[o(x,{class:y(["u-navbar",{"u-navbar-fixed":a.isFixed,"u-border-bottom":a.borderBottom}]),style:c([g.navbarStyle])},{default:r((()=>[o(x,{class:"u-status-bar",style:c({height:h.statusBarHeight+"px"})},null,8,["style"]),o(x,{class:"u-navbar-inner",style:c([g.navbarInnerStyle])},{default:r((()=>[a.isBack?(s(),i(x,{key:0,class:"u-back-wrap",onClick:g.goBack},{default:r((()=>[o(x,{class:"u-icon-wrap"},{default:r((()=>[o(v,{name:a.backIconName,color:a.backIconColor,size:a.backIconSize},null,8,["name","color","size"])])),_:1}),a.backText?(s(),i(x,{key:0,class:"u-icon-wrap u-back-text u-line-1",style:c([a.backTextStyle])},{default:r((()=>[u(d(a.backText),1)])),_:1},8,["style"])):f("v-if",!0)])),_:1},8,["onClick"])):f("v-if",!0),a.title?(s(),i(x,{key:1,class:"u-navbar-content-title",style:c([g.titleStyle])},{default:r((()=>[o(x,{class:"u-title u-line-1",style:c({color:a.titleColor,fontSize:a.titleSize+"rpx",fontWeight:a.titleBold?"bold":"normal"})},{default:r((()=>[u(d(a.title),1)])),_:1},8,["style"])])),_:1},8,["style"])):f("v-if",!0),o(x,{class:"u-slot-content"},{default:r((()=>[p(t.$slots,"default",{},void 0,!0)])),_:3}),o(x,{class:"u-slot-right"},{default:r((()=>[p(t.$slots,"right",{},void 0,!0)])),_:3})])),_:3},8,["style"])])),_:3},8,["style","class"]),f(" 解决fixed定位后导航栏塌陷的问题 "),a.isFixed&&!a.immersive?(s(),i(x,{key:0,class:"u-navbar-placeholder",style:c({width:"100%",height:Number(g.navbarHeight)+h.statusBarHeight+"px"})},null,8,["style"])):f("v-if",!0)])),_:3})}],["__scopeId","data-v-7cc3d59a"]]);var q=z({},[["render",function(t,e){const a=l(n("u-search"),C),c=m;return s(),i(c,{url:"/pages/search/search",class:"search px-[24rpx] py-[14rpx] bg-white","hover-class":"none"},{default:r((()=>[o(a,{placeholder:"请输入关键词搜索",disabled:"","show-action":!1})])),_:1})}]]);const A=h({__name:"banner",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const{getImageUrl:e}=g();return(a,c)=>{const u=l(n("u-image"),O),d=w,p=S,y=b;return t.content.data.length&&t.content.enabled?(s(),i(y,{key:0,class:"banner h-[340rpx] bg-white translate-y-0"},{default:r((()=>[o(p,{class:"swiper h-full","indicator-dots":t.content.data.length>1,"indicator-active-color":"#4173ff",autoplay:!0},{default:r((()=>[(s(!0),x(_,null,v(t.content.data,((t,a)=>(s(),i(d,{key:a,onClick:e=>{return a=t.link,void N(a);var a}},{default:r((()=>[o(u,{mode:"aspectFit",width:"100%",height:"100%",src:k(e)(t.image)},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["indicator-dots"])])),_:1})):f("v-if",!0)}}}),J=h({__name:"nav",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const{getImageUrl:e}=g();return(a,c)=>{const p=l(n("u-image"),O),y=b;return t.content.data.length&&t.content.enabled?(s(),i(y,{key:0,class:"nav pt-[30rpx] pb-[16rpx] bg-white"},{default:r((()=>[o(y,{class:"nav-item flex flex-wrap"},{default:r((()=>[(s(!0),x(_,null,v(t.content.data,((t,a)=>(s(),i(y,{key:a,class:"flex flex-col items-center w-1/5 mb-[30rpx]",onClick:e=>{return a=t.link,void N(a);var a}},{default:r((()=>[o(p,{width:"41px",height:"41px",src:k(e)(t.image),alt:""},null,8,["src"]),o(y,{class:"mt-[14rpx]"},{default:r((()=>[u(d(t.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):f("v-if",!0)}}}),D=h({__name:"notice",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},items:{type:Array,default:[]}},setup(t){const{getImageUrl:e}=g();return(a,l)=>{const n=j,c=b,p=w,y=S;return t.content.enabled?(s(),i(c,{key:0,class:"px-[20rpx] bg-white my-1 py-2 flex flex-row items-center"},{default:r((()=>[o(n,{src:k(e)(t.content.icon),mode:"widthFix",class:"w-[180rpx]"},null,8,["src"]),o(y,{class:"h-[35rpx] flex-1 ml-3",autoplay:!0,interval:3e3,vertical:!0,duration:1e3},{default:r((()=>[(s(!0),x(_,null,v(t.content.data,((t,e)=>(s(),i(p,{key:e},{default:r((()=>[o(c,{class:"swiper-item truncate text-lg"},{default:r((()=>[u(d(t.text),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):f("v-if",!0)}}});var E=z(h({__name:"index",setup(t){const e=B({pages:[],article:[],notice:[{text:"工作提示 我认了"},{text:"hello 000000000000000000000000000000 world 1"},{text:"hello world 2"}]});return(async()=>{var t;const a=await W();e.pages=JSON.parse(null==(t=null==a?void 0:a.page)?void 0:t.data),e.article=a.article})(),(t,a)=>{const d=l(n("u-navbar"),U),p=l(n("w-search"),q),y=l(n("w-banner"),A),m=l(n("w-nav"),J),h=l(n("w-notice"),D),g=b,k=l(n("news-card"),F),w=l(n("tabbar"),H);return s(),i(g,{class:"index"},{default:r((()=>[o(d,{"is-back":!1,title:"首页"}),(s(!0),x(_,null,v(e.pages,((t,a)=>(s(),i(g,{key:a},{default:r((()=>["search"==t.name?(s(),i(p,{key:0,content:t.content,styles:t.styles},null,8,["content","styles"])):f("v-if",!0),"banner"==t.name?(s(),i(y,{key:1,content:t.content,styles:t.styles},null,8,["content","styles"])):f("v-if",!0),"nav"==t.name?(s(),i(m,{key:2,content:t.content,styles:t.styles},null,8,["content","styles"])):f("v-if",!0),"notice"==t.name?(s(),i(h,{key:3,content:t.content,style:c(t.styles),items:e.notice},null,8,["content","style","items"])):f("v-if",!0)])),_:2},1024)))),128)),e.article.length?(s(),i(g,{key:0,class:"article"},{default:r((()=>[o(g,{class:"flex items-center article-title mx-[20rpx] my-[30rpx] text-2xl font-medium"},{default:r((()=>[o(g,null,{default:r((()=>[u("推荐文章")])),_:1})])),_:1}),(s(!0),x(_,null,v(e.article,(t=>(s(),i(k,{key:t.id,"news-id":t.id,item:t},null,8,["news-id","item"])))),128))])),_:1})):f("v-if",!0),o(w)])),_:1})}}}),[["__scopeId","data-v-12ba5090"]]);export{E as default};
