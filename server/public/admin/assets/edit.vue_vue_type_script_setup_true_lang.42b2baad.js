import{B,C as x,v as y,t as R,D as k}from"./element-plus.da7f6a44.js";import{a as A,b as g,c as U}from"./article.1465536f.js";import{P as I}from"./index.b75bd452.js";import{d as N,s as p,r as P,e as S,$ as q,o as L,c as T,U as a,L as l,a as c,u as $}from"./@vue.e8706010.js";const j={class:"edit-popup"},z=c("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C \u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D",-1),O=N({__name:"edit",emits:["success","close"],setup(G,{expose:_,emit:i}){const m=p(),s=p(),n=P("add"),f=S(()=>n.value=="edit"?"\u7F16\u8F91\u680F\u76EE":"\u65B0\u589E\u680F\u76EE"),o=q({id:"",name:"",sort:0,is_show:1}),E={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u680F\u76EE\u540D\u79F0",trigger:["blur"]}]},F=async()=>{var t,e;await((t=m.value)==null?void 0:t.validate()),n.value=="edit"?await A(o):await g(o),(e=s.value)==null||e.close(),i("success")},v=(t="add")=>{var e;n.value=t,(e=s.value)==null||e.open()},d=t=>{for(const e in o)t[e]!=null&&t[e]!=null&&(o[e]=t[e])},w=async t=>{const e=await U({id:t.id});d(e)},D=()=>{i("close")};return _({open:v,setFormData:d,getDetail:w}),(t,e)=>{const C=B,r=x,V=y,b=R,h=k;return L(),T("div",j,[a(I,{ref_key:"popupRef",ref:s,title:$(f),async:!0,width:"550px",onConfirm:F,onClose:D},{default:l(()=>[a(h,{ref_key:"formRef",ref:m,model:o,"label-width":"84px",rules:E},{default:l(()=>[a(r,{label:"\u680F\u76EE\u540D\u79F0",prop:"name"},{default:l(()=>[a(C,{modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=u=>o.name=u),placeholder:"\u8BF7\u8F93\u5165\u680F\u76EE\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),a(r,{label:"\u6392\u5E8F",prop:"sort"},{default:l(()=>[c("div",null,[a(V,{modelValue:o.sort,"onUpdate:modelValue":e[1]||(e[1]=u=>o.sort=u),min:0,max:9999},null,8,["modelValue"]),z])]),_:1}),a(r,{label:"\u72B6\u6001",prop:"is_show"},{default:l(()=>[a(b,{modelValue:o.is_show,"onUpdate:modelValue":e[2]||(e[2]=u=>o.is_show=u),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{O as _};
