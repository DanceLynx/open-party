import{B as z,C as G,J as H,K as Q,w as W,D as X,I as Y,N as Z,O as ee,P as ae}from"./element-plus.da7f6a44.js";import{_ as le}from"./index.vue_vue_type_script_setup_true_lang.f1fbc38a.js";import{_ as te}from"./index.vue_vue_type_script_setup_true_lang.23d19169.js";import{t as oe,f as ue,b as se}from"./index.e69109c6.js";import{_ as ne}from"./index.vue_vue_type_script_setup_true_lang.780488be.js";import{u as re}from"./usePaging.160b82b8.js";import{u as ie}from"./useDictOptions.e00f5941.js";import{_ as de,a as me,b as pe}from"./edit.vue_vue_type_script_setup_true_name_archivesEdit_lang.bcb2863e.js";import{d as S,s as _e,r as U,$ as ce,af as fe,o as s,c as h,U as a,L as t,M as F,u,K as r,R as ve,V as E,a7 as V,a as A,T as be,k as he,S as v,n as $}from"./@vue.e8706010.js";import"./@vueuse.1e5a6e21.js";import"./@element-plus.196c7323.js";import"./lodash-es.29c53eac.js";import"./dayjs.389eebc4.js";import"./axios.1da4aec9.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.8ea337b2.js";import"./vue-router.12d45bc3.js";import"./pinia.dfca86b4.js";import"./vue-demi.ebc8116b.js";import"./css-color-function.2f4f8b9c.js";import"./color.4de71c9d.js";import"./clone.33ea348d.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.45e63973.js";import"./ms.a9ae1d6d.js";import"./nprogress.f6aab5cc.js";import"./vue-clipboard3.8fce0f2c.js";import"./clipboard.88653269.js";import"./echarts.8d7a50ae.js";import"./zrender.1084fa23.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.2cdc8407.js";import"./index.b75bd452.js";const Fe=v("\u67E5\u8BE2"),ye=v("\u91CD\u7F6E"),Ce=v(" \u65B0\u589E "),Be=v(" \u5220\u9664 "),we={class:"mt-4"},De=v(" \u7F16\u8F91 "),Ee=v(" \u5220\u9664 "),Ve={class:"flex mt-4 justify-end"},ge=S({name:"archivesLists"}),va=S({...ge,setup(ke){const y=_e(),C=U(!1),o=ce({name:"",idcard:"",gender:"",birthday_time:"",nation:"",native_place:"",address:"",education:"",college:"",archives_status:"",department:"",contact:"",is_flow:"",is_merry:"",join_time:"",real_time:"",see:"",situation:""}),g=U([]),L=i=>{g.value=i.map(({id:l})=>l)},{dictData:p}=ie("sex,archives_status,show_status,merry_status,department,yes_or_no"),{pager:b,getLists:B,resetParams:P,resetPage:N}=re({fetchFun:me,params:o}),R=async()=>{var i;C.value=!0,await $(),(i=y.value)==null||i.open("add")},I=async i=>{var l,c;C.value=!0,await $(),(l=y.value)==null||l.open("edit"),(c=y.value)==null||c.setFormData(i)},x=async i=>{await ue.confirm("\u786E\u5B9A\u8981\u5220\u9664\uFF1F"),await pe({id:i}),B()};return B(),(i,l)=>{const c=z,d=G,_=H,w=Q,j=ne,f=W,K=X,T=Y,O=se,n=Z,k=te,q=ee,J=le,D=fe("perms"),M=ae;return s(),h("div",null,[a(T,{class:"!border-none mb-4",shadow:"never"},{default:t(()=>[a(K,{class:"mb-[-16px]",model:o,inline:""},{default:t(()=>[a(d,{label:"\u59D3\u540D",prop:"name"},{default:t(()=>[a(c,{class:"w-[280px]",modelValue:o.name,"onUpdate:modelValue":l[0]||(l[0]=e=>o.name=e),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D"},null,8,["modelValue"])]),_:1}),a(d,{label:"\u6027\u522B",prop:"gender"},{default:t(()=>[a(w,{class:"w-[280px]",modelValue:o.gender,"onUpdate:modelValue":l[1]||(l[1]=e=>o.gender=e),clearable:"",placeholder:"\u8BF7\u9009\u62E9\u6027\u522B"},{default:t(()=>[a(_,{label:"\u5168\u90E8",value:""}),(s(!0),h(E,null,V(u(p).sex,(e,m)=>(s(),r(_,{key:m,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"\u51FA\u751F\u65E5\u671F",prop:"birthday_time"},{default:t(()=>[a(j,{startTime:o.start_time,"onUpdate:startTime":l[2]||(l[2]=e=>o.start_time=e),endTime:o.end_time,"onUpdate:endTime":l[3]||(l[3]=e=>o.end_time=e)},null,8,["startTime","endTime"])]),_:1}),a(d,{label:"\u6C11\u65CF",prop:"nation"},{default:t(()=>[a(c,{class:"w-[280px]",modelValue:o.nation,"onUpdate:modelValue":l[4]||(l[4]=e=>o.nation=e),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u6C11\u65CF"},null,8,["modelValue"])]),_:1}),a(d,{label:"\u515A\u7C4D\u72B6\u6001",prop:"archives_status"},{default:t(()=>[a(w,{class:"w-[280px]",modelValue:o.archives_status,"onUpdate:modelValue":l[5]||(l[5]=e=>o.archives_status=e),clearable:"",placeholder:"\u8BF7\u9009\u62E9\u515A\u7C4D\u72B6\u6001"},{default:t(()=>[a(_,{label:"\u5168\u90E8",value:""}),(s(!0),h(E,null,V(u(p).archives_status,(e,m)=>(s(),r(_,{key:m,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"\u8054\u7CFB\u7535\u8BDD",prop:"contact"},{default:t(()=>[a(c,{class:"w-[280px]",modelValue:o.contact,"onUpdate:modelValue":l[6]||(l[6]=e=>o.contact=e),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD"},null,8,["modelValue"])]),_:1}),a(d,{label:"\u662F\u5426\u4E3A\u6D41\u52A8\u515A\u5458",prop:"is_flow"},{default:t(()=>[a(w,{class:"w-[280px]",modelValue:o.is_flow,"onUpdate:modelValue":l[7]||(l[7]=e=>o.is_flow=e),clearable:"",placeholder:"\u8BF7\u9009\u62E9\u662F\u5426\u4E3A\u6D41\u52A8\u515A\u5458"},{default:t(()=>[a(_,{label:"\u5168\u90E8",value:""}),(s(!0),h(E,null,V(u(p).yes_or_no,(e,m)=>(s(),r(_,{key:m,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"\u5A5A\u59FB\u72B6\u6001",prop:"is_merry"},{default:t(()=>[a(w,{class:"w-[280px]",modelValue:o.is_merry,"onUpdate:modelValue":l[8]||(l[8]=e=>o.is_merry=e),clearable:"",placeholder:"\u8BF7\u9009\u62E9\u5A5A\u59FB\u72B6\u6001"},{default:t(()=>[a(_,{label:"\u5168\u90E8",value:""}),(s(!0),h(E,null,V(u(p).merry_status,(e,m)=>(s(),r(_,{key:m,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,null,{default:t(()=>[a(f,{type:"primary",onClick:u(N)},{default:t(()=>[Fe]),_:1},8,["onClick"]),a(f,{onClick:u(P)},{default:t(()=>[ye]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),F((s(),r(T,{class:"!border-none",shadow:"never"},{default:t(()=>[F((s(),r(f,{type:"primary",onClick:R},{icon:t(()=>[a(O,{name:"el-icon-Plus"})]),default:t(()=>[Ce]),_:1})),[[D,["archives.archives/add"]]]),F((s(),r(f,{disabled:!g.value.length,onClick:l[9]||(l[9]=e=>x(g.value))},{default:t(()=>[Be]),_:1},8,["disabled"])),[[D,["archives.archives/delete"]]]),A("div",we,[a(q,{data:u(b).lists,onSelectionChange:L},{default:t(()=>[a(n,{type:"selection",width:"55"}),a(n,{label:"\u59D3\u540D",prop:"name","show-overflow-tooltip":""}),a(n,{label:"\u8EAB\u4EFD\u8BC1",prop:"idcard","show-overflow-tooltip":""}),a(n,{label:"\u6027\u522B",prop:"gender"},{default:t(({row:e})=>[a(k,{options:u(p).sex,value:e.gender},null,8,["options","value"])]),_:1}),a(n,{label:"\u51FA\u751F\u65E5\u671F",prop:"birthday_time"},{default:t(({row:e})=>[A("span",null,be(e.birthday_time?u(oe)(e.birthday_time,"yyyy-mm-dd"):""),1)]),_:1}),a(n,{label:"\u6C11\u65CF",prop:"nation","show-overflow-tooltip":""}),a(n,{label:"\u515A\u7C4D\u72B6\u6001",prop:"archives_status"},{default:t(({row:e})=>[a(k,{options:u(p).archives_status,value:e.archives_status},null,8,["options","value"])]),_:1}),a(n,{label:"\u8054\u7CFB\u7535\u8BDD",prop:"contact","show-overflow-tooltip":""}),a(n,{label:"\u662F\u5426\u4E3A\u6D41\u52A8\u515A\u5458",prop:"is_flow"},{default:t(({row:e})=>[a(k,{options:u(p).yes_or_no,value:e.is_flow},null,8,["options","value"])]),_:1}),a(n,{label:"\u64CD\u4F5C",width:"120",fixed:"right"},{default:t(({row:e})=>[F((s(),r(f,{type:"primary",link:"",onClick:m=>I(e)},{default:t(()=>[De]),_:2},1032,["onClick"])),[[D,["archives.archives/edit"]]]),F((s(),r(f,{type:"danger",link:"",onClick:m=>x(e.id)},{default:t(()=>[Ee]),_:2},1032,["onClick"])),[[D,["archives.archives/delete"]]])]),_:1})]),_:1},8,["data"])]),A("div",Ve,[a(J,{modelValue:u(b),"onUpdate:modelValue":l[10]||(l[10]=e=>he(b)?b.value=e:null),onChange:u(B)},null,8,["modelValue","onChange"])])]),_:1})),[[M,u(b).loading]]),C.value?(s(),r(de,{key:0,ref_key:"editRef",ref:y,"dict-data":u(p),onSuccess:u(B),onClose:l[11]||(l[11]=e=>C.value=!1)},null,8,["dict-data","onSuccess"])):ve("",!0)])}}});export{va as default};
